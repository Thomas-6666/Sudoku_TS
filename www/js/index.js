var y=function(){N.fillStyle=_,N.fillRect(0,0,E,P)},Y=function(A,q,B,F,K){const R=A*B,H=q*B;if(K)N.fillStyle=K,N.fillRect(R+1,H+1,B-2,B-2);N.strokeStyle=F,N.strokeRect(R,H,B,B)},D=function(A,q,B){Y(A,q,Q*3,m,B);for(let F=0;F<3;F++)for(let K=0;K<3;K++)Y(A*3+K,q*3+F,Q,$)},G=function(){y();for(let A=0;A<3;A++)for(let q=0;q<3;q++)Y(q,A,Q,$,_);for(let A=0;A<3;A++)for(let q=0;q<3;q++)D(q,A)},V=function(A,q){const B=U[q][A],F=O[q][A],K=Math.max(Q-2,Math.floor(Q*0.2)),R=Math.floor(K/3),H=Math.max(1,Math.floor(Q*0.1)),b=A*Q+H,I=q*Q+H;for(let T=1;T<=9;T++){const Z=B.includes(T)&&!F.includes(T)?T:null,J=(T-1)%3,f=Math.floor((T-1)/3),h=b+R*J,k=I+R*f;N.fillText(Z!==null?Z.toString():"",h,k)}},L=function(){N.fillStyle="#000",N.font="16px Arial",N.textBaseline="top",N.textAlign="start";for(let A=0;A<9;A++)for(let q=0;q<9;q++)V(q,A)},w=function(A){if(M){let q=M[0],B=M[1],F=U[B][q].indexOf(A),K=q-q%3,R=B-B%3;if(O[B][q][F]===null){for(let H=0;H<3;H++)O[B][K+H][F]=null,O[R+H][q][F]=null;O[B][q][F]=U[B][q][F]}else{for(let H=0;H<3;H++)O[B][K+H][F]=U[B][K+H][F],O[R+H][q][F]=U[R+H][q][F];O[B][q][F]=null}G(),L()}},X=new WebSocket(`ws://${location.host}`);X.onopen=()=>setInterval(()=>X.send("ping"),5000);X.onmessage=(A)=>{if(console.log(A.data),A.data==="reload")location.reload()};var _="#CCC",$="#777",m="#000",W=document.getElementById("sudokuCanvas"),N=W.getContext("2d"),E=W.width,P=W.height,Q=Math.round(Math.min(E,P)/9),U=[],O=[];for(let A=0;A<9;A++){U.push([]),O.push([]);for(let q=0;q<9;q++)U[A].push([1,2,3,4,5,6,7,8,9]),O[A].push(Array(9).fill(null))}G();L();var M=null;W.addEventListener("mousemove",function(A){A.stopPropagation();const{offsetX:q,offsetY:B}=A,F=Math.min(Math.floor(q/Q),9),K=Math.min(Math.floor(B/Q),9);if(M===null||M[0]!==F||M[1]!==K)M=[F,K],console.log("Celulle selectionn\xE9e : ",M)});W.addEventListener("mouseout",function(A){M=null,console.log("Celulle selectionn\xE9e : ",M)});document.addEventListener("keyup",function(A){let q=parseInt(A.key);if(Number.isInteger(q)&&M!==null)w(q)});console.log("Frontend charg\xE9");
